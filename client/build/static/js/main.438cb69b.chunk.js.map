{"version":3,"sources":["Components/Pages/Auth/VerificationPage/VerificationPage.js","Components/Pages/Auth/Logout/Logout.js","Components/UI/AppSpinner/AppSpinner.js","App.js","serviceWorker.js","Components/Store/reducers/loginReducer.js","index.js","Components/Utility/cookies.js","Components/Utility/axiosInstance.js","Components/Store/actions/Login.js","Components/UI/Spinner/Spinner.js","Components/Store/actions/index.js","Components/UI/Alert/Gifs/error.gif","Components/UI/AsyncButton/AsyncButton.js","Components/UI/Alert/Alert.js","Components/UI/PageShell/PageShell.js","Components/UI/SmallSpinner/SmallSpinner.js","Components/UI/Alert/Gifs/success2.gif","assets/images/EZWalkin-Logo.jpg","Components/Store/actions/actionTypes.js"],"names":["connect","dispatch","setVerified","status","storeToken","token","email","setTemporaryToken","props","useState","loading","setLoading","setStatus","type","setType","message","setMessage","show","setShow","text","setText","useEffect","tokenArray","window","location","href","split","length","axiosInstance","post","then","res","console","log","data","deleteCookie","catch","err","setTimeout","response","className","Spinner","Alert","hideAlert","history","replace","confirmButtonText","AsyncButton","onClick","push","logout","loginFailure","localStorage","removeItem","style","background","AppSpinner","alt","src","require","LazySuperadmin","lazy","LazyPartner","LazyStore","LazyAuth","state","auth","login","undefined","verified","userType","checkAuthStatus","withRouter","pathname","route","setRoute","a","includes","defaults","headers","common","setAxiosHeader","setItem","routes","path","render","fallback","component","VerificationPage","PageShell","Logout","to","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","initialState","temporaryToken","logo","loginReducer","actions","actionTypes","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","getCookie","name","matches","cookie","RegExp","decodeURIComponent","setCookie","value","options","expires","Date","toUTCString","updatedCookie","encodeURIComponent","optionKey","optionValue","axios","create","baseURL","Authorization","loginSuccess","module","exports","disabled","children","backgroundImage","Success","Error","Page","transitionAppear","transitionAppearTimeout","transitionEnterTimeout","transitionLeaveTimeout","transitionName","SmallSpinner","START_LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","SET_TEMPORARY_TOKEN","SET_VERIFIED"],"mappings":"gUAsGeA,cAAQ,MAPI,SAACC,GAC1B,MAAO,CACLC,YAAa,SAACC,GAAD,OAAYF,EAASC,YAAYC,KAC9CC,WAAY,SAACC,EAAOC,GAAR,OAAkBL,EAASM,YAAkBF,EAAOC,QAIrDN,EA3FU,SAACQ,GAAW,IAAD,EACJC,oBAAS,GADL,mBAC3BC,EAD2B,KAClBC,EADkB,OAENF,mBAAS,MAFH,mBAE3BN,EAF2B,KAEnBS,EAFmB,OAIVH,mBAAS,IAJC,mBAI3BI,EAJ2B,KAIrBC,EAJqB,OAKJL,mBAAS,IALL,mBAK3BM,EAL2B,KAKlBC,EALkB,OAMVP,oBAAS,GANC,mBAM3BQ,EAN2B,KAMrBC,EANqB,OAOVT,mBAAS,IAPC,mBAO3BU,EAP2B,KAOrBC,EAPqB,KAQlCC,qBAAU,WACRV,GAAW,GACX,IAAIW,EAAaC,OAAOC,SAASC,KAAKC,MAAM,KACxCrB,EAAQiB,EAAWA,EAAWK,OAAS,GAC3CC,IACGC,KAAK,eAAgB,CAAExB,MAAOA,IAC9ByB,MAAK,SAACC,GACLpB,GAAW,GACXqB,QAAQC,IAAIF,EAAIG,MACG,MAAfH,EAAI5B,QACNK,EAAMN,aAAY,GAClBM,EAAMJ,WAAWC,EAAO0B,EAAIG,MAC5BC,YAAa,SACbrB,EAAQ,WACRE,EAAW,YACXI,EAAQ,YACRF,GAAQ,GACRN,EAAUmB,EAAI5B,SAGTS,EAAUmB,EAAI5B,WAEtBiC,OAAM,SAACC,GACN1B,GAAW,GACXwB,YAAa,SACbrB,EAAQ,SACRE,EAAW,UACXE,GAAQ,GACRE,EAAQ,MACRkB,YAAW,WACT1B,EAAUyB,EAAIE,SAASpC,UACtB,KACH6B,QAAQC,IAAII,QAEf,IAWH,OACE,yBAAKG,UAAU,6CACZ9B,EACC,kBAAC+B,EAAA,EAAD,MACExB,EACF,kBAACyB,EAAA,EAAD,CACE7B,KAAMA,EACNE,QAASA,EACT4B,UAjBU,WAChBzB,GAAQ,GACO,MAAXf,GACFmC,YAAW,WACT9B,EAAMoC,QAAQC,QAAQ,kBACrB,MAaC5B,KAAMA,EACN6B,kBAAmB3B,IAER,MAAXhB,EACF,kBAAC,WAAD,KACE,kBAACsC,EAAA,EAAD,MACA,+CAEW,OAAXtC,EACF,kBAACsC,EAAA,EAAD,MAEA,yBAAKD,UAAU,2BACb,sDACA,kBAACO,EAAA,EAAD,CAAaC,QAAS,kBAAMxC,EAAMoC,QAAQK,KAAK,kBAA/C,c,QC9CKjD,cAAQ,MANI,SAACC,GAC1B,MAAO,CACLiD,OAAQ,kBAAMjD,EAASkD,mBAIZnD,EAhCA,SAACQ,GAad,OAZA4C,aAAaC,WAAW,SACxBhC,qBAAU,WACRc,YAAa,SACb3B,EAAM0C,SACNtB,IAAcC,KAAK,WACnBS,YAAW,WACT9B,EAAMoC,QAAQK,KAAK,kBAElB,OACF,IAID,yBACET,UAAU,4CACVc,MAAO,CAAEC,WAAY,UAErB,kBAACd,EAAA,EAAD,MACA,kD,QCTSe,G,OAfI,SAAChD,GAClB,OACE,yBAAKgC,UAAU,iCACb,yBACEA,UAAU,mBACViB,IAAI,aACJC,IAAKC,EAAQ,MAEf,yBAAKnB,UAAU,0BACb,yBAAKA,UAAU,wBCDjBoB,EAAiBC,gBAAK,kBAC1B,uEAEIC,EAAcD,gBAAK,kBAAM,4EACzBE,EAAYF,gBAAK,kBAAM,6EACvBG,EAAWH,gBAAK,kBAAM,wDA4F5B,IAgBe7D,eAhBS,SAACiE,GACvB,MAAO,CACLC,KAA4B,OAAtBD,EAAME,MAAM9D,YAAwC+D,IAAtBH,EAAME,MAAM9D,MAChDgE,SAAUJ,EAAME,MAAME,SACtB3D,QAASuD,EAAME,MAAMzD,QACrB4D,SAAUL,EAAME,MAAMG,SACtBjE,MAAO4D,EAAME,MAAM9D,UAII,SAACJ,GAC1B,MAAO,CACLsE,gBAAiB,kBAAMtE,EAASsE,mBAIrBvE,CAA6CwE,aA1G5D,SAAahE,GAAQ,IAAD,EACQC,wBACI2D,IAA5B5D,EAAMgB,SAASiD,UAAsD,OAA5BjE,EAAMgB,SAASiD,SACpDjE,EAAMgB,SAASiD,SACf,KAJY,mBACXC,EADW,KACJC,EADI,OAOMlE,oBAAS,GAPf,mBAOXQ,EAPW,KAOLC,EAPK,KASlBG,oBAAS,sBAAC,sBAAAuD,EAAA,yDACHrD,OAAOC,SAASC,KAAKoD,SAAS,eAD3B,gCAEArE,EAAM+D,kBAFN,2CAGP,IAEHlD,qBAAU,WACRiB,YAAW,WACTpB,GAAQ,KACP,OACF,IAEHG,qBAAU,YACY,uCAAG,sBAAAuD,EAAA,uFAGDpE,EAAMH,OAHL,OACrBuB,IAAckD,SAASC,QAAQC,OAA/B,cADqB,kDAAH,qDAKpBC,KACC,CAACzE,EAAMH,QAEVgB,qBAAU,WAELE,OAAOC,SAASC,KAAKoD,SAAS,UAC9BtD,OAAOC,SAASC,KAAKoD,SAAS,aAE/BzB,aAAa8B,QAAQ,QAAS1E,EAAMgB,SAASiD,UAC7CE,OAC8BP,IAA5B5D,EAAMgB,SAASiD,UAAkD,OAAxBjE,EAAMgB,SAASC,KACpDjB,EAAMgB,SAASiD,SACf,QAGP,CAAClD,OAAOC,SAASC,OAEpB,IAAI0D,EACF,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAQ,SAAC7E,GAAD,OAAW,kBAACoD,EAAmBpD,MASzD,MANuB,YAAnBA,EAAM8D,SACRa,EAAS,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAQ,SAAC7E,GAAD,OAAW,kBAACsD,EAAgBtD,MACjC,UAAnBA,EAAM8D,WACfa,EAAS,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAQ,SAAC7E,GAAD,OAAW,kBAACuD,EAAcvD,OAGtDS,EACLT,EAAME,QACJ,yBAAK8B,UAAU,0CACb,kBAAC,EAAD,OAGF,yBAAKA,UAAU,OACb,kBAAC,WAAD,CACE8C,SACE,yBAAK9C,UAAU,0CACb,kBAAC,EAAD,QAIJ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO4C,KAAK,sBAAsBG,UAAWC,IAC7C,kBAAC,IAAD,CAAOJ,KAAK,UAAUG,UAAWE,YAAUC,KAC1ClF,EAAM0D,KACL,kBAAC,WAAD,KACGiB,EACD,kBAAC,IAAD,CAAUQ,GAAIjB,KAGhB,kBAAC,WAAD,KACE,kBAAC,IAAD,CAAOU,KAAK,QAAQG,UAAWvB,IAC/B,kBAAC,IAAD,CAAU2B,GAAG,cAQzB,kBAAC,EAAD,UC5FEC,EAAcC,QACW,cAA7BtE,OAAOC,SAASsE,UAEe,UAA7BvE,OAAOC,SAASsE,UAEhBvE,OAAOC,SAASsE,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTnE,MAAK,SAAAwE,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBvC,QACfkC,UAAUC,cAAcO,YAI1B3E,QAAQC,IACN,iHAKEiE,GAAUA,EAAOU,UACnBV,EAAOU,SAASN,KAMlBtE,QAAQC,IAAI,sCAGRiE,GAAUA,EAAOW,WACnBX,EAAOW,UAAUP,WAO5BlE,OAAM,SAAA0E,GACL9E,QAAQ8E,MAAM,4CAA6CA,M,yCC9F3DC,EAAe,CACnB1G,MAAO,KACPiE,SAAU,KACVD,UAAU,EACV2C,eAAgB,KAChB1G,MAAO,KACPI,SAAS,EACTuG,KAAM,MA8COC,EA3CM,WAAoC,IAAnCjD,EAAkC,uDAA1B8C,EAAcI,EAAY,uCACtD,OAAQA,EAAQtG,MACd,KAAKuG,IACH,OAAO,2BACFnD,GADL,IAEE5D,MAAO8G,EAAQ9G,MACfiE,SAAU6C,EAAQ7C,SAClB5D,SAAS,EACTuG,KAAME,EAAQF,OAElB,KAAKG,IACH,OAAO,2BACFnD,GADL,IAEEI,SAAU8C,EAAQhH,SAEtB,KAAKiH,IACH,OAAO,2BACFnD,GADL,IAEE+C,eAAgBG,EAAQ9G,MACxBC,MAAO6G,EAAQ7G,QAEnB,KAAK8G,IACH,OAAO,2BACFnD,GADL,IAEEK,SAAU,KACVjE,MAAO,KACPK,SAAS,EACTsG,eAAgB,KAChB1G,MAAO,OAEX,KAAK8G,IACH,OAAO,2BACFnD,GADL,IAEEK,SAAU,KACVjE,MAAO,KACPK,SAAS,EACTsG,eAAgB,KAChB1G,MAAO,OAEX,QACE,OAAO2D,I,QCxCPoD,EAAcC,YAAgB,CAClCnD,MAAO+C,IAGHK,EAAmBhG,OAAOiG,sCAAwCC,IAElEC,EAAQC,YACZN,EACAE,EAAiBK,YAAgBC,OAGnCC,IAASzC,OACP,kBAAC,IAAM0C,WAAP,KACE,kBAAC,IAAD,CAAUL,MAAOA,GACf,kBAAC,IAAD,KACE,kBAAC,EAAD,SAINM,SAASC,eAAe,SFTnB,SAAkB/B,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAI+B,IAAIC,GAAwB5G,OAAOC,SAASC,MACpD2G,SAAW7G,OAAOC,SAAS4G,OAIvC,OAGF7G,OAAO8G,iBAAiB,QAAQ,WAC9B,IAAMpC,EAAK,UAAMkC,GAAN,sBAEPvC,IAgEV,SAAiCK,EAAOC,GAEtCoC,MAAMrC,EAAO,CACXlB,QAAS,CAAE,iBAAkB,YAE5BjD,MAAK,SAAAS,GAEJ,IAAMgG,EAAchG,EAASwC,QAAQyD,IAAI,gBAEnB,MAApBjG,EAASpC,QACO,MAAfoI,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5CtC,UAAUC,cAAcsC,MAAM5G,MAAK,SAAAwE,GACjCA,EAAaqC,aAAa7G,MAAK,WAC7BP,OAAOC,SAASoH,eAKpB5C,EAAgBC,EAAOC,MAG1B9D,OAAM,WACLJ,QAAQC,IACN,oEAvFA4G,CAAwB5C,EAAOC,GAI/BC,UAAUC,cAAcsC,MAAM5G,MAAK,WACjCE,QAAQC,IACN,iHAMJ+D,EAAgBC,EAAOC,OEb/BE,I,iJCrCO,SAAS0C,EAAUC,GACxB,IAAIC,EAAUhB,SAASiB,OAAOlD,MAC5B,IAAImD,OACF,WACEH,EAAKlG,QAAQ,+BAAgC,QAC7C,aAGN,OAAOmG,EAAUG,mBAAmBH,EAAQ,SAAM5E,EAG7C,SAASgF,EAAUL,EAAMM,GAAsB,IAAfC,EAAc,uDAAJ,IAC/CA,EAAO,aACLlE,KAAM,KAEHkE,IAGOC,mBAAmBC,OAC7BF,EAAQC,QAAUD,EAAQC,QAAQE,eAGpC,IAAIC,EACFC,mBAAmBZ,GAAQ,IAAMY,mBAAmBN,GAEtD,IAAK,IAAIO,KAAaN,EAAS,CAC7BI,GAAiB,KAAOE,EACxB,IAAIC,EAAcP,EAAQM,IACN,IAAhBC,IACFH,GAAiB,IAAMG,GAI3B7B,SAASiB,OAASS,EAKb,SAASvH,EAAa4G,GAC3BK,EAAUL,EAAM,GAAI,CAClB,WAAY,M,gCCxChB,+DAGanH,EAAgBkI,IAAMC,OAAO,CAExCC,QAAS,+BAGTjF,QAAS,CACPkF,cAAc,UAAD,OAAYnB,YAAU,c,gCCTvC,qMAIaoB,EAAe,SAAC7J,EAAOiE,EAAU2C,GAC5C,MAAO,CACLpG,KAAMuG,IACN/G,MAAOA,EACPiE,SAAUA,EACV2C,KAAMA,GAAc,OAGX9D,EAAe,WAC1B,MAAO,CACLtC,KAAMuG,MAIG7G,EAAoB,SAACF,EAAOC,GACvC,MAAO,CACLO,KAAMuG,IACN/G,MAAOA,EACPC,MAAOA,IAIEJ,EAAc,SAACC,GAC1B,MAAO,CACLU,KAAMuG,IACNjH,OAAQA,IAUCoE,EAAkB,WAC7B,IAAIlE,EAAQyI,YAAU,SACtB,OAAO,SAAC7I,GACN,GACY,OAAVI,GACU,SAAVA,GACU,KAAVA,QACU+D,IAAV/D,EAEA,OAAOJ,EAASkD,KAElBlD,EAhBK,CACLY,KAAMuG,MAgBNxF,IACGC,KAAK,mBAAoB,CAAExB,MAAOA,IAClCyB,MAAK,SAACC,GACc,MAAfA,EAAI5B,QACNF,EAASiK,EAAanI,EAAIG,KAAK7B,MAAO0B,EAAIG,KAAKrB,KAAMkB,EAAIG,KAAK+E,OAC9DmC,YAAU,QAASrH,EAAIG,KAAK7B,MAAO,CACjCkJ,QAAS,IAAIC,KAAK,KAAM,EAAG,GAAGC,gBAEhCzH,QAAQC,IAAI,IAAIuH,KAAK,KAAM,EAAG,GAAGC,gBAEjCxJ,EAASkD,QAGZf,OAAM,SAACC,GACNL,QAAQC,IAAII,GACZpC,EAASkD,W,gCClEjB,0BAmBeV,IAhBC,SAACjC,GACf,OACE,yBAAKgC,UAAU,gBACb,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,wB,gCCdrB,6J,mBCAA2H,EAAOC,QAAU,IAA0B,mC,mEC8B5BrH,IA3BK,SAACvC,GACnB,OACE,4BACE8C,MAAK,eAAO9C,EAAM8C,OAClB+G,SAAU7J,EAAM6J,SAChB7H,UACEhC,EAAME,QACF,kBACCF,EAAMgC,UAAYhC,EAAMgC,UAAY,eACrChC,EAAMgC,UACNhC,EAAMgC,UACN,cAEN3B,KAAML,EAAMK,KAAOL,EAAMK,KAAO,SAChCmC,QAASxC,EAAME,QAAU,aAAWF,EAAMwC,SAEzCxC,EAAME,QACL,kBAAC,WAAD,KACE,kBAAC,IAAD,OAGFF,EAAM8J,Y,gCCxBd,8DAwCe5H,IAnCD,SAAClC,GACb,OAAOA,EAAMS,KACX,yBAAKuB,UAAU,kBAAkBQ,QAAS,kBAAMxC,EAAMmC,cACpD,yBACEH,UACE,yBACgB,YAAfhC,EAAMK,KACH,aACe,UAAfL,EAAMK,KACN,WACA,aAGN,wBAAI2B,UAAU,iBAAiBhC,EAAMO,SACrC,yBACEyB,UAAU,QACVc,MAAO,CACLiH,gBACE,SACgB,YAAf/J,EAAMK,KACH2J,KACAhK,EAAMK,KACN4J,MAJJ,QASN,4BAAQzH,QAAS,kBAAMxC,EAAMmC,aAAaH,UAAU,gBACjDhC,EAAMsC,kBAAoBtC,EAAMsC,kBAAoB,QAIzD,O,gCCrCN,4CAkBe2C,IAfG,SAACiF,GACjB,OAAO,SAAClK,GAAD,OACL,yBAAKgC,UAAU,QACb,kBAAC,IAAD,CACEmI,kBAAkB,EAClBC,wBAAyB,IACzBC,uBAAwB,IACxBC,uBAAwB,IACxBC,eAAgB,WAEhB,kBAACL,EAASlK,Q,gCCblB,0BAOewK,IAJM,SAACxK,GACpB,OAAO,yBAAKgC,UAAU,a,mBCJxB2H,EAAOC,QAAU,IAA0B,sC,mBCA3CD,EAAOC,QAAU,IAA0B,2C,wJCA3C,0KAAO,IAAMa,EAAc,cACdC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAsB,sBACtBC,EAAe,gB","file":"static/js/main.438cb69b.chunk.js","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport \"./VerificationPage.css\";\r\nimport Spinner from \"../../../UI/Spinner/Spinner\";\r\n// import { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { setVerified, setTemporaryToken } from \"../../../Store/actions\";\r\nimport AsyncButton from \"../../../UI/AsyncButton/AsyncButton\";\r\nimport { deleteCookie } from \"../../../Utility/cookies\";\r\nimport { axiosInstance } from \"../../../Utility/axiosInstance\";\r\nimport Alert from \"../../../UI/Alert/Alert\";\r\n\r\nconst VerificationPage = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [status, setStatus] = useState(null);\r\n\r\n  const [type, setType] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [show, setShow] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    let tokenArray = window.location.href.split(\"/\");\r\n    let token = tokenArray[tokenArray.length - 1];\r\n    axiosInstance\r\n      .post(\"/verifytoken\", { token: token })\r\n      .then((res) => {\r\n        setLoading(false);\r\n        console.log(res.data);\r\n        if (res.status === 200) {\r\n          props.setVerified(true);\r\n          props.storeToken(token, res.data);\r\n          deleteCookie(\"token\");\r\n          setType(\"success\");\r\n          setMessage(\"Verified\");\r\n          setText(\"Continue\");\r\n          setShow(true);\r\n          setStatus(res.status);\r\n          // setTimeout(() => {\r\n          // }, 2000);\r\n        } else setStatus(res.status);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        deleteCookie(\"token\");\r\n        setType(\"error\");\r\n        setMessage(\"Failed\");\r\n        setShow(true);\r\n        setText(\"OK\");\r\n        setTimeout(() => {\r\n          setStatus(err.response.status);\r\n        }, 2000);\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const hideAlert = () => {\r\n    setShow(false);\r\n    if (status === 200) {\r\n      setTimeout(() => {\r\n        props.history.replace(\"/auth/signup\");\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"full-page-wrapper flex-center flex-column\">\r\n      {loading ? (\r\n        <Spinner />\r\n      ) : show ? (\r\n        <Alert\r\n          type={type}\r\n          message={message}\r\n          hideAlert={hideAlert}\r\n          show={show}\r\n          confirmButtonText={text}\r\n        />\r\n      ) : status === 200 ? (\r\n        <Fragment>\r\n          <Spinner />\r\n          <h4>Redirecting...</h4>\r\n        </Fragment>\r\n      ) : status === null ? (\r\n        <Spinner />\r\n      ) : (\r\n        <div className=\"flex-column flex-center\">\r\n          <h4>Something went wrong !</h4>\r\n          <AsyncButton onClick={() => props.history.push(\"/auth/signin\")}>\r\n            Login\r\n          </AsyncButton>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setVerified: (status) => dispatch(setVerified(status)),\r\n    storeToken: (token, email) => dispatch(setTemporaryToken(token, email)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(VerificationPage);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Redirect } from \"react-router\";\r\nimport { loginFailure } from \"../../../Store/actions/Login\";\r\nimport Spinner from \"../../../UI/Spinner/Spinner\";\r\nimport { axiosInstance } from \"../../../Utility/axiosInstance\";\r\nimport { deleteCookie } from \"../../../Utility/cookies\";\r\n\r\nconst Logout = (props) => {\r\n  localStorage.removeItem(\"route\");\r\n  useEffect(() => {\r\n    deleteCookie(\"token\");\r\n    props.logout();\r\n    axiosInstance.post(\"/logout\");\r\n    setTimeout(() => {\r\n      props.history.push(\"/auth/signin\");\r\n      // window.location.reload();\r\n    }, 2000);\r\n  }, []);\r\n  // useEffect(() => {\r\n  // }, []);\r\n  return (\r\n    <div\r\n      className=\"full-page-wrapper flex-center flex-column\"\r\n      style={{ background: \"white\" }}\r\n    >\r\n      <Spinner />\r\n      <h4>Logging out...</h4>\r\n    </div>\r\n  );\r\n\r\n  // <Redirect to=\"/auth/signin\" />;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    logout: () => dispatch(loginFailure()),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout);\r\n","import React from \"react\";\r\nimport \"./AppSpinner.css\";\r\n\r\nconst AppSpinner = (props) => {\r\n  return (\r\n    <div className=\"app-spinner full-page-wrapper\">\r\n      <img\r\n        className=\"app-spinner-logo\"\r\n        alt=\"loading...\"\r\n        src={require(\"../../../assets/images/EZWalkin-Logo.jpg\")}\r\n      />\r\n      <div className=\"progress-bar-container\">\r\n        <div className=\"progress-loader\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppSpinner;\r\n","import React, { Fragment, lazy, Suspense, useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport { Redirect, Route, Switch, withRouter } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport VerificationPage from \"./Components/Pages/Auth/VerificationPage/VerificationPage\";\r\nimport { checkAuthStatus } from \"./Components/Store/actions\";\r\nimport Logout from \"./Components/Pages/Auth/Logout/Logout\";\r\nimport PageShell from \"./Components/UI/PageShell/PageShell\";\r\nimport { axiosInstance } from \"./Components/Utility/axiosInstance\";\r\nimport AppSpinner from \"./Components/UI/AppSpinner/AppSpinner\";\r\n\r\nconst LazySuperadmin = lazy(() =>\r\n  import(\"./Components/Pages/Superadmin/Superadmin\")\r\n);\r\nconst LazyPartner = lazy(() => import(\"./Components/Pages/Partner/Partner\"));\r\nconst LazyStore = lazy(() => import(\"./Components/Pages/Store/Store\"));\r\nconst LazyAuth = lazy(() => import(\"./Components/Pages/Auth/Auth\"));\r\n\r\nfunction App(props) {\r\n  const [route, setRoute] = useState(\r\n    props.location.pathname !== undefined && props.location.pathname !== null\r\n      ? props.location.pathname\r\n      : \"/\"\r\n  );\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  useEffect(async () => {\r\n    if (!window.location.href.includes(\"verifytoken\"))\r\n      await props.checkAuthStatus();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setShow(true);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const setAxiosHeader = async () => {\r\n      axiosInstance.defaults.headers.common[\r\n        \"Authorization\"\r\n      ] = await `Bearer ${props.token}`;\r\n    };\r\n    setAxiosHeader();\r\n  }, [props.token]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !window.location.href.includes(\"/auth\") &&\r\n      !window.location.href.includes(\"/verify\")\r\n    ) {\r\n      localStorage.setItem(\"route\", props.location.pathname);\r\n      setRoute(\r\n        props.location.pathname !== undefined && props.location.href !== null\r\n          ? props.location.pathname\r\n          : \"/\"\r\n      );\r\n    }\r\n  }, [window.location.href]);\r\n\r\n  let routes = (\r\n    <Route path=\"/\" render={(props) => <LazySuperadmin {...props} />} />\r\n  );\r\n\r\n  if (props.userType === \"partner\") {\r\n    routes = <Route path=\"/\" render={(props) => <LazyPartner {...props} />} />;\r\n  } else if (props.userType === \"store\") {\r\n    routes = <Route path=\"/\" render={(props) => <LazyStore {...props} />} />;\r\n  }\r\n\r\n  return show ? (\r\n    props.loading ? (\r\n      <div className=\"full-page-wrapper flex-center bg-milky\">\r\n        <AppSpinner />\r\n      </div>\r\n    ) : (\r\n      <div className=\"App\">\r\n        <Suspense\r\n          fallback={\r\n            <div className=\"full-page-wrapper flex-center bg-milky\">\r\n              <AppSpinner />\r\n            </div>\r\n          }\r\n        >\r\n          <Switch>\r\n            <Route path=\"/verifytoken/:token\" component={VerificationPage} />\r\n            <Route path=\"/logout\" component={PageShell(Logout)} />\r\n            {props.auth ? (\r\n              <Fragment>\r\n                {routes}\r\n                <Redirect to={route} />\r\n              </Fragment>\r\n            ) : (\r\n              <Fragment>\r\n                <Route path=\"/auth\" component={LazyAuth} />\r\n                <Redirect to=\"/auth\" />\r\n              </Fragment>\r\n            )}\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    )\r\n  ) : (\r\n    <AppSpinner />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.login.token !== null && state.login.token !== undefined,\r\n    verified: state.login.verified,\r\n    loading: state.login.loading,\r\n    userType: state.login.userType,\r\n    token: state.login.token,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    checkAuthStatus: () => dispatch(checkAuthStatus()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(App));\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  token: null,\r\n  userType: null,\r\n  verified: false,\r\n  temporaryToken: null,\r\n  email: null,\r\n  loading: false,\r\n  logo: null,\r\n};\r\n\r\nconst loginReducer = (state = initialState, actions) => {\r\n  switch (actions.type) {\r\n    case actionTypes.LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        token: actions.token,\r\n        userType: actions.userType,\r\n        loading: false,\r\n        logo: actions.logo,\r\n      };\r\n    case actionTypes.SET_VERIFIED:\r\n      return {\r\n        ...state,\r\n        verified: actions.status,\r\n      };\r\n    case actionTypes.SET_TEMPORARY_TOKEN:\r\n      return {\r\n        ...state,\r\n        temporaryToken: actions.token,\r\n        email: actions.email,\r\n      };\r\n    case actionTypes.LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        userType: null,\r\n        token: null,\r\n        loading: false,\r\n        temporaryToken: null,\r\n        email: null,\r\n      };\r\n    case actionTypes.START_LOGIN:\r\n      return {\r\n        ...state,\r\n        userType: null,\r\n        token: null,\r\n        loading: true,\r\n        temporaryToken: null,\r\n        email: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default loginReducer;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport loginReducer from \"./Components/Store/reducers/loginReducer\";\nimport thunk from \"redux-thunk\";\n\nconst rootReducer = combineReducers({\n  login: loginReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n//   () => {\n//   window.OneSignal = window.OneSignal || [];\n//   OneSignal.push(function () {\n//     OneSignal.init({\n//       appId: \"09352329-344d-4e28-9a74-1037b187730b\",\n//       notifyButton: {\n//         enable: true,\n//       },\n//       allowLocalhostAsSecureOrigin: true,\n//     });\n//   });\n// };\n","export function getCookie(name) {\r\n  let matches = document.cookie.match(\r\n    new RegExp(\r\n      \"(?:^|; )\" +\r\n        name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, \"\\\\$1\") +\r\n        \"=([^;]*)\"\r\n    )\r\n  );\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nexport function setCookie(name, value, options = {}) {\r\n  options = {\r\n    path: \"/\",\r\n    // add other defaults here if necessary\r\n    ...options,\r\n  };\r\n\r\n  if (options.expires instanceof Date) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie =\r\n    encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n  for (let optionKey in options) {\r\n    updatedCookie += \"; \" + optionKey;\r\n    let optionValue = options[optionKey];\r\n    if (optionValue !== true) {\r\n      updatedCookie += \"=\" + optionValue;\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\n// setCookie('user', 'John', {secure: true, 'max-age': 3600});\r\n\r\nexport function deleteCookie(name) {\r\n  setCookie(name, \"\", {\r\n    \"max-age\": -1,\r\n  });\r\n}\r\n","import axios from \"axios\";\r\nimport { getCookie } from \"./cookies\";\r\n\r\nexport const axiosInstance = axios.create({\r\n  // baseURL: \"https://cors-anywhere.herokuapp.com/https://ezwalkin.herokuapp.com\",\r\n  baseURL: \"http://13.233.83.5:5000/api/\",\r\n  // baseURL: \"https://cors-anywhere.herokuapp.com/http://65.0.203.228:5000/\",\r\n  // baseURL: \"http://localhost:5000\",\r\n  headers: {\r\n    Authorization: `Bearer ${getCookie(\"token\")}`,\r\n  },\r\n});\r\n","import * as actionTypes from \"./actionTypes\";\r\nimport { getCookie, setCookie } from \"../../Utility/cookies\";\r\nimport { axiosInstance } from \"../../Utility/axiosInstance\";\r\n\r\nexport const loginSuccess = (token, userType, logo) => {\r\n  return {\r\n    type: actionTypes.LOGIN_SUCCESS,\r\n    token: token,\r\n    userType: userType,\r\n    logo: logo ? logo : null,\r\n  };\r\n};\r\nexport const loginFailure = () => {\r\n  return {\r\n    type: actionTypes.LOGIN_FAILURE,\r\n  };\r\n};\r\n\r\nexport const setTemporaryToken = (token, email) => {\r\n  return {\r\n    type: actionTypes.SET_TEMPORARY_TOKEN,\r\n    token: token,\r\n    email: email,\r\n  };\r\n};\r\n\r\nexport const setVerified = (status) => {\r\n  return {\r\n    type: actionTypes.SET_VERIFIED,\r\n    status: status,\r\n  };\r\n};\r\n\r\nexport const start = () => {\r\n  return {\r\n    type: actionTypes.START_LOGIN,\r\n  };\r\n};\r\n\r\nexport const checkAuthStatus = () => {\r\n  var token = getCookie(\"token\");\r\n  return (dispatch) => {\r\n    if (\r\n      token === null ||\r\n      token === \"null\" ||\r\n      token === \"\" ||\r\n      token === undefined\r\n    ) {\r\n      return dispatch(loginFailure());\r\n    }\r\n    dispatch(start());\r\n    axiosInstance\r\n      .post(\"/checkauthstatus\", { token: token })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(loginSuccess(res.data.token, res.data.type, res.data.logo));\r\n          setCookie(\"token\", res.data.token, {\r\n            expires: new Date(3030, 0, 1).toUTCString(),\r\n          });\r\n          console.log(new Date(3030, 0, 1).toUTCString());\r\n        } else {\r\n          dispatch(loginFailure());\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch(loginFailure());\r\n      });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport \"./Spinner.css\";\r\n\r\nconst Spinner = (props) => {\r\n  return (\r\n    <div className=\"sk-cube-grid\">\r\n      <div className=\"sk-cube sk-cube1\"></div>\r\n      <div className=\"sk-cube sk-cube2\"></div>\r\n      <div className=\"sk-cube sk-cube3\"></div>\r\n      <div className=\"sk-cube sk-cube4\"></div>\r\n      <div className=\"sk-cube sk-cube5\"></div>\r\n      <div className=\"sk-cube sk-cube6\"></div>\r\n      <div className=\"sk-cube sk-cube7\"></div>\r\n      <div className=\"sk-cube sk-cube8\"></div>\r\n      <div className=\"sk-cube sk-cube9\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","export {\r\n  loginSuccess,\r\n  setVerified,\r\n  setTemporaryToken,\r\n  checkAuthStatus,\r\n} from \"./Login\";\r\n","module.exports = __webpack_public_path__ + \"static/media/error.23edc42b.gif\";","import React, { Fragment } from \"react\";\r\nimport SmallSpinner from \"../SmallSpinner/SmallSpinner\";\r\n\r\nconst AsyncButton = (props) => {\r\n  return (\r\n    <button\r\n      style={{ ...props.style }}\r\n      disabled={props.disabled}\r\n      className={\r\n        props.loading\r\n          ? \"loading-style \" +\r\n            (props.className ? props.className : \"bg-green lg\")\r\n          : props.className\r\n          ? props.className\r\n          : \"bg-green lg\"\r\n      }\r\n      type={props.type ? props.type : \"button\"}\r\n      onClick={props.loading ? () => {} : props.onClick}\r\n    >\r\n      {props.loading ? (\r\n        <Fragment>\r\n          <SmallSpinner />\r\n        </Fragment>\r\n      ) : (\r\n        props.children\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default AsyncButton;\r\n","import React from \"react\";\r\nimport \"./Alert.css\";\r\nimport Success from \"./Gifs/success2.gif\";\r\nimport Error from \"./Gifs/error.gif\";\r\n\r\nconst Alert = (props) => {\r\n  return props.show ? (\r\n    <div className=\"alert-container\" onClick={() => props.hideAlert()}>\r\n      <div\r\n        className={\r\n          \"alert-mini-container \" +\r\n          (props.type === \"success\"\r\n            ? \"success-bg\"\r\n            : props.type === \"error\"\r\n            ? \"error-bg\"\r\n            : \"white-bg\")\r\n        }\r\n      >\r\n        <h4 className=\"alert-message\">{props.message}</h4>\r\n        <div\r\n          className=\"alert\"\r\n          style={{\r\n            backgroundImage:\r\n              `url('` +\r\n              (props.type === \"success\"\r\n                ? Success\r\n                : props.type === \"error\"\r\n                ? Error\r\n                : Error) +\r\n              `')`,\r\n          }}\r\n        ></div>\r\n        <button onClick={() => props.hideAlert()} className=\"alert-button\">\r\n          {props.confirmButtonText ? props.confirmButtonText : \"OK\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default Alert;\r\n","import React from \"react\";\r\nimport ReactCSSTransitionGroup from \"react-addons-css-transition-group\";\r\nimport \"./PageShell.css\";\r\nconst PageShell = (Page) => {\r\n  return (props) => (\r\n    <div className=\"page\">\r\n      <ReactCSSTransitionGroup\r\n        transitionAppear={true}\r\n        transitionAppearTimeout={600}\r\n        transitionEnterTimeout={600}\r\n        transitionLeaveTimeout={200}\r\n        transitionName={\"SlideIn\"}\r\n      >\r\n        <Page {...props} />\r\n      </ReactCSSTransitionGroup>\r\n    </div>\r\n  );\r\n};\r\nexport default PageShell;\r\n","import React from \"react\";\r\nimport \"./SmallSpinner.css\";\r\n\r\nconst SmallSpinner = (props) => {\r\n  return <div className=\"loader\"></div>;\r\n};\r\n\r\nexport default SmallSpinner;\r\n","module.exports = __webpack_public_path__ + \"static/media/success2.8d2d721d.gif\";","module.exports = __webpack_public_path__ + \"static/media/EZWalkin-Logo.a2bee980.jpg\";","export const START_LOGIN = \"START_LOGIN\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\r\nexport const SET_TEMPORARY_TOKEN = \"SET_TEMPORARY_TOKEN\";\r\nexport const SET_VERIFIED = \"SET_VERIFIED\";\r\n"],"sourceRoot":""}
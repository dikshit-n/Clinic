(this["webpackJsonpez-walking"]=this["webpackJsonpez-walking"]||[]).push([[9],{109:function(e,t,a){"use strict";var n=a(3),r=a(0),l=a.n(r),c=a(837);a(143);t.a=function(e){var t=["my-card",e.className?e.className:""];return l.a.createElement("div",{className:t.join(" "),style:e.style},e.title?l.a.createElement(r.Fragment,null,l.a.createElement(c.a,null,l.a.createElement("h4",{className:"card-title-responsive",style:Object(n.a)(Object(n.a)({},e.titleStyle),{},{textAlign:e.titleCenter?"center":"left"})},e.title))):null,e.children)}},110:function(e,t,a){e.exports=a.p+"static/media/Default-Profile.9acfe78b.png"},123:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(832),c=a(833),o=a(834),i=a(835),s=a(435),u=a(836),d=a(184),m=a.n(d),f=a(10),b=a(186),p=a.n(b),g=(a(142),a(185),function(e){var t=Object(n.useState)(e.value),a=Object(f.a)(t,2),l=a[0],c=a[1];return r.a.createElement(n.Fragment,null,r.a.createElement("br",null),r.a.createElement(p.a,Object.assign({},e,{placeholderText:e.placeholder,className:"date",dateFormat:"dd-MM-yyyy",selected:l,onChange:function(t){c(t),e.onChange({target:{value:t,name:e.name}})}})))}),E=a(113),v=a(3),h=a(213),O=function(e){return r.a.createElement(h.a,{className:"react-select",classNamePrefix:"react-select",placeholder:e.placeholder,ref:e.ref,value:void 0!==e.value&&null!==e.value?0===e.value.length?null:{value:e.value,label:e.value}:null,onChange:function(t){return e.onChange(null!==t&&void 0!==t?t.label:null,e.name)},name:e.name,styles:{control:function(t){return Object(v.a)(Object(v.a)({background:"rgba(230, 230, 230, 0.823)"},t),e.style)}},options:null===e.options?[]:Object(E.a)(e.options.map((function(e){return{value:e,label:e}})))})};t.a=function(e){var t=m()();return function(){switch(e.type){case"text":return r.a.createElement(l.a,{style:{textAlign:"left"}},r.a.createElement(c.a,{for:t},e.displayName),e.addon?r.a.createElement(o.a,null,r.a.createElement(i.a,{addonType:e.addon.type},r.a.createElement(s.a,null,e.addon.text)),r.a.createElement(u.a,Object.assign({disabled:e.disabled,type:e.type,id:t,name:e.name,value:e.value,onChange:function(t){e.onChange(t)},placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e))):r.a.createElement(u.a,Object.assign({disabled:e.disabled,type:e.type,id:t,name:e.name,value:e.value,onChange:function(t){e.onChange(t)},placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e)));case"textarea":return r.a.createElement(l.a,{style:{textAlign:"left"}},r.a.createElement(c.a,{for:t},e.displayName),e.addon?r.a.createElement(o.a,null,r.a.createElement(i.a,{addonType:e.addon.type},r.a.createElement(s.a,null,e.addon.text)),r.a.createElement(u.a,Object.assign({disabled:e.disabled,type:e.type,id:t,value:e.value,onChange:function(t){e.onChange(t)},name:e.name,placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e))):r.a.createElement(u.a,Object.assign({disabled:e.disabled,type:e.type,id:t,value:e.value,onChange:function(t){e.onChange(t)},name:e.name,placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e)));case"select":return r.a.createElement(l.a,{style:{textAlign:"left"}},r.a.createElement(c.a,{for:t},e.displayName),e.addon?r.a.createElement(o.a,null,r.a.createElement(i.a,{addonType:e.addon.type},r.a.createElement(s.a,null,e.addon.text)),r.a.createElement(O,Object.assign({style:{background:"#fafafa"},name:e.name,value:e.value,onChange:function(t,a){e.onChange(t,a)},options:e.options},e))):r.a.createElement(O,Object.assign({style:{background:"#fafafa"},name:e.name,value:e.value,onChange:function(t,a){e.onChange(t,a)},options:e.options},e)));case"number":return r.a.createElement(l.a,{style:{textAlign:"left"}},r.a.createElement(c.a,{for:t},e.displayName),e.addon?r.a.createElement(o.a,null,r.a.createElement(i.a,{addonType:e.addon.type},r.a.createElement(s.a,null,e.addon.text)),r.a.createElement(u.a,Object.assign({disabled:e.disabled,type:e.type,id:t,value:e.value,onChange:function(t){e.onChange(t)},name:e.name,placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e))):r.a.createElement(u.a,Object.assign({disabled:e.disabled,type:e.type,id:t,value:e.value,onChange:function(t){e.onChange(t)},name:e.name,placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e)));case"date":return r.a.createElement(l.a,{style:{textAlign:"left"}},r.a.createElement(c.a,{for:t},e.displayName),e.addon?r.a.createElement(o.a,null,r.a.createElement(i.a,{addonType:e.addon.type},r.a.createElement(s.a,null,e.addon.text)),r.a.createElement(g,Object.assign({disabled:e.disabled,type:e.type,id:t,value:e.value,onChange:function(t){e.onChange(t)},name:e.name,placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e))):r.a.createElement(g,Object.assign({disabled:e.disabled,type:e.type,id:t,value:e.value,onChange:function(t){e.onChange(t)},name:e.name,placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e)));default:return r.a.createElement(l.a,{style:{textAlign:"left"}},r.a.createElement(c.a,{for:t},e.displayName),e.addon?r.a.createElement(o.a,null,r.a.createElement(i.a,{addonType:e.addon.type},r.a.createElement(s.a,null,e.addon.text)),r.a.createElement(u.a,Object.assign({disabled:e.disabled,type:e.type,id:t,name:e.name,value:e.value,onChange:function(t){e.onChange(t)},placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e))):r.a.createElement(u.a,Object.assign({disabled:e.disabled,type:e.type,id:t,name:e.name,value:e.value,onChange:function(t){e.onChange(t)},placeholder:e.placeholder,required:e.required,readOnly:e.readOnly},e)))}}()}},126:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(144);t.a=function(e){var t=["info",e.className?e.className:""];return r.a.createElement("div",{className:t.join(" ")},r.a.createElement("p",{className:"small text-center remove-para-margin",style:{color:e.color?e.color:"coral"}},e.info))}},134:function(e,t,a){e.exports=a.p+"static/media/default-image.5cd326b3.png"},139:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(155),r=a.n(n),l=function(){var e,t,a,n,l;if(!((t=r()(".resize")).length<0)){for(l=[],a=0,n=t.length;a<n;a++)e=t[a],l.push(function(e){var t,a;for(t=function(){var t;return t=parseInt(r()(e).css("font-size").slice(0,-2))-1+"px",r()(e).css("font-size",t)},a=[];e.scrollHeight>e.offsetHeight;)a.push(t());return a}(e));return l}}},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},147:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(109);a(249);t.a=function(e){return r.a.createElement("div",null,e.fromPartner?r.a.createElement(n.Fragment,null,r.a.createElement(l.a,{className:"full-width flex-center partner-view_offer-title"},r.a.createElement("div",{className:"store-name-title-loader skeleton-box"})),r.a.createElement("br",null)):null,r.a.createElement(l.a,{className:"flex-column"},r.a.createElement("div",{className:"store-name-title-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("div",{className:"offer-image-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("div",{className:"upload-button-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("div",{className:"add-offer-textbox-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("div",{className:"add-offer-textbox-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("div",{className:"add-offer-textbox-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("div",{className:"add-offer-textbox-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("div",{className:"upload-button-loader skeleton-box"})))}},167:function(e,t,a){"use strict";var n=a(10),r=a(0),l=a.n(r),c=(a(168),a(1)),o=a(155),i=a.n(o);t.a=Object(c.g)((function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(e.location.pathname),u=Object(n.a)(s,2);u[0],u[1];Object(r.useEffect)((function(){window.onscroll=function(){null!==document.getElementById("navbar")&&void 0!==document.getElementById("navbar")&&(document.body.scrollTop>10||document.documentElement.scrollTop>10?(document.getElementById("navbar").style.padding="0px 20px",document.getElementById("navbar").style.width="100vw"):(document.getElementById("navbar").style.padding="10px 20px",document.getElementById("navbar").style.width="95vw"))},i()(document).ready((function(){i()(".nav .dropdown-menu").prev("a").on("click",(function(e){e.preventDefault(),i()(this).parent().find(".dropdown-menu").slideToggle()}))})),i()(document).ready((function(){function e(){var e=i()(".active-route a"),t=i()(e).width()+parseFloat(i()(e).css("padding-left"))+parseFloat(i()(e).css("padding-right")),a=function(){var e,t,a,n,r=0;return i()(".nav-links li").each((function(l,c){if(i()(c).hasClass("active-route"))return!1;e=i()(c).find("a"),t=e.width(),a=parseFloat(e.css("padding-left")),n=parseFloat(e.css("padding-right")),r+=t+a+n})),r}(),n=i()(".active-marker");i()(".active-route a").hasClass(".hide-marker")?(i()(n).css("display","none"),i()(n).css("left",a+40)):(i()(n).css("display","block"),i()(n).css("width",t),i()(n).css("left",a+40))}e(),i()(".nav-links a").click((function(t){t.preventDefault(),i()(".nav-links li").removeClass("active-route"),i()(this).parents("li").addClass("active-route"),e()}))}))}),[window.location.href]);var d=function(t,a){t.preventDefault(),e.history.push(a),m()},m=function(){o((function(e){return!e}))};return l.a.createElement(r.Fragment,null,l.a.createElement("nav",{className:"navbar blurred-nav",id:"navbar"},l.a.createElement("div",{className:"nav-container"},l.a.createElement("div",{className:"nav-header"},l.a.createElement("div",{className:"logo"},e.heading)),l.a.createElement("input",{type:"checkbox",checked:c,id:"menu-toggle",onClick:m}),e.showOnMobile?l.a.createElement("div",{className:"show-on-mobile"},e.showOnMobile):null,l.a.createElement("label",{htmlFor:"menu-toggle",className:"menu-show"},l.a.createElement("i",{className:"fa fa-bars"})),l.a.createElement("div",{className:"nav"},l.a.createElement("ul",{className:"nav-links"},e.routes.map((function(e,t){return e.dropdown?l.a.createElement("li",{className:"nav-item has-dropdown indicate-active drop"+(e.dropdown.options.some((function(e){return window.location.href.includes(e.to)}))?" active-route":""),key:t},l.a.createElement("a",{href:"#",className:"nav-link"},e.dropdown.heading),l.a.createElement("ul",{className:"dropdown-menu"},e.dropdown.options.map((function(e,t){return l.a.createElement("li",{className:"nav-item",key:t},l.a.createElement("a",{className:"nav-link font",href:"#",onClick:function(t){return d(t,e.to)}},e.name))})))):e.component?l.a.createElement("li",{className:"nav-item nav-component indicate-active"+(window.location.href.includes(e.to)?" active-route":""),key:t,onClick:function(t){return d(t,e.to)}},l.a.createElement("a",{style:{visibility:"hidden"},className:"hide-marker"}),e.component):l.a.createElement("li",{className:"nav-item indicate-active"+(window.location.href.includes(e.to)?" active-route":""),key:t},l.a.createElement("a",{href:"#",onClick:function(t){return d(t,e.to)},className:"nav-link font"},e.name))})),l.a.createElement("label",{htmlFor:"menu-toggle",className:"menu-hide"},l.a.createElement("i",{className:"fa fa-times"}))),l.a.createElement("i",{className:"active-marker drop"})))),l.a.createElement("div",{className:"dummy-div"}))}))},168:function(e,t,a){},172:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(18),r=a.n(n),l=a(113),c=a(23),o=new(a(173)),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.compress(t,{size:a.size?a.size:2,quality:a.quality?a.quality:.75,maxWidth:1920,maxHeight:1920,resize:void 0!==a.resize&&a.resize}).then((function(e){n(Object(l.a)(e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},174:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png")||e.endsWith(".JPG")||e.endsWith(".JPEG")||e.endsWith(".PNG")||e.endsWith(".JFIF")||e.endsWith(".jfif")||e.endsWith(".webp")||e.endsWith(".WEBP")}},177:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=(a(247),a(842));t.a=function(e){var t=["my-modal",e.className],a=["modal-content",e.contentClassName];return Object(n.useEffect)((function(){var t=document.querySelector("body");e.show?t.style.overflowY="hidden":t.style.overflowY=""}),[e.show]),r.a.createElement(l.a,{in:e.show,timeout:300,classNames:"alert",unmountOnExit:!0},r.a.createElement("div",Object.assign({},e,{className:t.join(" ")}),r.a.createElement("div",{onClick:e.onClose,className:"outer-modal"}),r.a.createElement("div",{className:a.join(" ")},e.children)))}},178:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(248);t.a=function(e){return r.a.createElement("div",{className:"round"},r.a.createElement("input",Object.assign({type:"checkbox",id:e.id||e.name,onChange:e.onChange,name:e.name,checked:e.checked},e)),r.a.createElement("label",{htmlFor:e.name}),r.a.createElement("span",{style:{marginLeft:"28px"}},e.displayName))}},183:function(e,t,a){"use strict";var n=a(18),r=a.n(n),l=a(23),c=a(3),o=a(10),i=a(0),s=a.n(i),u=(a(246),function(e){return e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png")||e.endsWith(".JPG")||e.endsWith(".JPEG")||e.endsWith(".PNG")||e.endsWith(".JFIF")||e.endsWith(".jfif")||e.endsWith(".webp")||e.endsWith(".WEBP")}),d=a(31),m=(t.a=function(e){var t=Object(i.useRef)(),n=Object(i.useState)(e.defaultImage?e.defaultImage:a(134)),r=Object(o.a)(n,2),l=r[0],m=r[1],b=Object(i.useState)(""),p=Object(o.a)(b,2),g=p[0],E=p[1],v=Object(i.useState)(null),h=Object(o.a)(v,2),O=h[0],j=h[1],y=Object(i.useState)(!1),N=Object(o.a)(y,2),x=N[0],k=N[1];Object(i.useEffect)((function(){document.querySelectorAll(".imagePreview").forEach((function(t){!1===e.editable?t.style.cursor="no-drop":(t.addEventListener("dragover",(function(e){e.preventDefault(),t.classList.add("dotted")})),["dragleave","dragend"].forEach((function(e){return t.addEventListener(e,(function(e){t.classList.remove("dotted")}))})),t.addEventListener("drop",(function(e){e.preventDefault(),e.dataTransfer.files.length&&(C({target:e.dataTransfer}),t.classList.remove("dotted"))})))}))}),[]),Object(i.useEffect)((function(){e.onChange(l,O,g)}),[l,O,g]);var C=function(t){if(!1!==e.editable)if(void 0!==t.target.files[0]){if(k(!0),j(u(t.target.files[0].name)),!u(t.target.files[0].name))return E("Choose only .jpeg / .jpg / .png / .jfif / .webp"),k(!1),j(!1);if(e.sizeLimit&&t.target.files[0].size>1e4*parseInt(e.sizeLimit)){if(e.compress){return f([t.target.files[0]],{size:e.sizeLimit?parseInt(e.sizeLimit):1},(function(e){m(e),k(!1)}))}return E("Size should be within "+e.sizeLimit+" MB"),k(!1),void j(!1)}console.log("after compress");var n=t.target.files[0],r=new FileReader;r.readAsDataURL(n),r.onload=function(e){m(e.target.result),k(!1)}}else j(!1),E("No file Choosen"),m(e.defaultImage?e.defaultImage:a(134))};return s.a.createElement("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"column"}},e.needPreview?s.a.createElement("div",{className:"imagePreview"},x?e.defaultImage?e.defaultImage:s.a.createElement("img",{src:e.defaultImage?e.defaultImage:a(134),alt:"preview",className:"image "+e.className+" skeleton-loading",style:Object(c.a)({width:"50px",height:"50px"},e.style)}):s.a.createElement("img",{src:null===e.image?e.defaultImage?e.defaultImage:a(134):e.image,alt:"preview",className:"image "+e.className,style:Object(c.a)({width:"50px",height:"50px"},e.style)})):null,s.a.createElement("br",null),s.a.createElement("input",{type:"file",ref:t,style:{display:"none"},onChange:function(e){return C(e)}}),!1!==e.editable?s.a.createElement(d.a,{loading:x,color:"success",type:"button",onClick:function(){t.current.click()}},s.a.createElement("p",{style:{color:"white",margin:0}},"Upload Image")):null,s.a.createElement("br",null))},new(a(173))),f=function(){var e=Object(l.a)(r.a.mark((function e(t,a,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.compress(t,{size:a.size?a.size:2,quality:a.quality?a.quality:.75,maxWidth:1920,maxHeight:1920,resize:void 0!==a.resize&&a.resize}).then((function(e){n(e[0].prefix+e[0].data)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},229:function(e,t,a){"use strict";function n(e){return void 0!==e&&null!==e&&0!==e.toString().length&&"NaN"!==e.toString()?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",").toString():""}a.d(t,"a",(function(){return n}))},242:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(317),c=a.n(l),o=a(109);a(243);t.a=function(e){return r.a.createElement(o.a,{className:"flex-row wrap"},r.a.createElement(c.a,{lg:"6",md:"6",sm:"12",className:"flex-column"},r.a.createElement("div",{className:"partner-logo skeleton-box"}),r.a.createElement("div",{className:"form"},r.a.createElement("br",null),r.a.createElement("div",{className:"skeleton-box field-label-loader"}),r.a.createElement("div",{className:"profile-field-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"skeleton-box field-label-loader"}),r.a.createElement("div",{className:"profile-field-loader skeleton-box"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"skeleton-box field-label-loader"}),r.a.createElement("div",{className:"profile-field-loader skeleton-box"}),r.a.createElement("br",null))),r.a.createElement(c.a,{lg:"6",md:"6",sm:"12",className:"flex-center"},r.a.createElement("div",{className:"qr-code skeleton-box"})))}},243:function(e,t,a){},244:function(e,t,a){"use strict";var n=a(32),r=a(3),l=a(113),c=a(10),o=a(0),i=a.n(o),s=a(123),u=a(109),d=a(13),m=(a(245),a(33)),f=a(31),b=a(183),p=a(126),g=a(177),E=a(178),v=a(1),h=a(147);t.a=Object(v.g)((function(e){var t=Object(o.useState)({offerStart:"",offerEnd:"",offerImage:null,users:[]}),a=Object(c.a)(t,2),v=a[0],O=a[1],j=Object(o.useState)([]),y=Object(c.a)(j,2),N=y[0],x=y[1],k=Object(o.useState)(""),C=Object(c.a)(k,2),w=C[0],S=C[1],D=Object(o.useState)(" "),I=Object(c.a)(D,2),P=I[0],q=I[1],F=Object(o.useState)(""),z=Object(c.a)(F,2),_=z[0],W=z[1],R=Object(o.useState)(!1),A=Object(c.a)(R,2),T=A[0],L=A[1],B=Object(o.useState)(!1),Q=Object(c.a)(B,2),U=Q[0],J=Q[1],V=Object(o.useState)(!1),G=Object(c.a)(V,2),M=G[0],Y=G[1],H=Object(o.useState)(!1),K=Object(c.a)(H,2),X=K[0],Z=K[1];Object(o.useEffect)((function(){J(!0),d.a.post(e.fromPartner?"/listuserspartner":"/listusers").then((function(e){J(!1),x(Object(l.a)(e.data)),console.log(e.data)})).catch((function(e){J(!1),x([]),console.log(e)}))}),[]);var $=function(e){var t=v.users.some((function(t){return t._id===e._id}));O(t?function(t){return Object(r.a)(Object(r.a)({},t),{},{users:Object(l.a)(t.users.filter((function(t){return t._id!==e._id})))})}:function(t){return Object(r.a)(Object(r.a)({},t),{},{users:[].concat(Object(l.a)(t.users),[e])})})},ee=function(e){var t=e.target,a=t.name,l=t.value;O("startDate"===a?function(e){var t;return Object(r.a)(Object(r.a)({},e),{},(t={},Object(n.a)(t,a,l),Object(n.a)(t,"offerEnd",""),t))}:function(e){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a,l))})},te=[{name:"users",style:{cursor:"pointer"},displayName:"Users",placeholder:"Select Users",required:!0,value:v.users.map((function(e){return e.phone+", "})),onChange:function(){},onClick:function(){return Z(!0)},autoComplete:"off"},{name:"offerStart",displayName:"Start Date",placeholder:"Select Start Date",minDate:new Date,type:"date",value:v.offerStart,onChange:ee,required:!0,autoComplete:"off"},{name:"offerEnd",displayName:"End Date",placeholder:"Select End Date",minDate:""!==v.offerStart&&null!==v.offerStart&&void 0!==v.offerStart?new Date(v.offerStart.getFullYear(),v.offerStart.getMonth(),v.offerStart.getDate()+1):null,type:"date",disabled:""===v.offerStart,value:v.offerEnd,onChange:ee,autoComplete:"off",required:!0}].filter((function(e){return null!==e}));return U?i.a.createElement(h.a,{fromPartner:e.fromPartner}):i.a.createElement(o.Fragment,null,e.fromPartner?i.a.createElement(u.a,{className:"full-width flex-row partner-view_offer-title"},i.a.createElement("div",{className:"back-button flex-center",onClick:e.goBack},i.a.createElement("i",{className:"red fa fa-chevron-left","aria-hidden":"true"})),i.a.createElement("div",{className:"each-partner-title flex-center"},i.a.createElement("h4",{className:"break-word"},e.data.name))):null,i.a.createElement("br",null),i.a.createElement(g.a,{className:"blurred-box",show:X,onClose:function(){return Z(!1)}},i.a.createElement(u.a,{className:"store-dropdown-card bg-transparent"},i.a.createElement("div",{className:"store-dropdown-selector bg-transparent"},0===N.length?i.a.createElement("div",{className:"flex-center"},i.a.createElement("h4",null,"No Users !")):i.a.createElement("div",null,N.map((function(e){return i.a.createElement("div",{key:e._id,className:"d-flex justify-content-between flex-wrap each-store-option",style:{cursor:"pointer"},onClick:function(){return $(e)},id:e._id},i.a.createElement("div",{className:"store-name-div vertical-flex-center"},e.phone),i.a.createElement("div",{className:"checkbox-div flex-center"},i.a.createElement(E.a,{name:e.phone,id:e._id,checked:v.users.some((function(t){return t._id===e._id})),onChange:function(){return $(e)}})))})))),i.a.createElement(f.a,{type:"button",onClick:function(){return Z(!1)}},"Done"))),i.a.createElement("div",null,i.a.createElement(u.a,{title:"ADD OFFER"},i.a.createElement(m.a,{type:_,message:w,hideAlert:function(){L(!1),"error"!==_&&O({offerStart:"",offerEnd:"",offerImage:null,users:[]})},show:T}),i.a.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault(),console.log(e.data.storeId),Y(!0);var a=Object(r.a)(Object(r.a)({},v),{},{storeId:e.fromPartner?e.data.storeId:null,offerStart:v.offerStart.getTime(),offerEnd:v.offerEnd.getTime()});console.log(a),d.a.post(e.fromPartner?"/addpartneroffer":"/addstoreoffer",a).then((function(e){Y(!1),console.log(e),200===e.status&&(L(!0),S("Success"),W("success"))})).catch((function(e){Y(!1),L(!0),S("Error"),W("error")}))}},i.a.createElement(b.a,{needPreview:!0,sizeLimit:"1",compress:!0,className:"my-image",image:v.offerImage,onChange:function(e,t,a){q(a),t?(q(" "),O((function(t){return Object(r.a)(Object(r.a)({},t),{},{offerImage:e})}))):O((function(e){return Object(r.a)(Object(r.a)({},e),{},{offerImage:null})}))}}),i.a.createElement(p.a,{info:P}),te.map((function(e,t){return i.a.createElement(s.a,Object.assign({key:t},e))})),i.a.createElement(f.a,{loading:M,disabled:!Object(l.a)(Object.values(v).map((function(e){return null===e||e===[]?"":e}))).every((function(e){return""!==e.toString().trim()})),className:"bg-green lg",type:"submit"},"ADD")))))}))},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},273:function(e,t,a){"use strict";var n=a(3),r=a(113),l=a(10),c=a(0),o=a.n(c),i=a(1),s=a(31),u=a(109),d=a(17),m=a(13),f=a(147),b=a(32),p=a(123),g=(a(250),a(33)),E=a(183),v=a(126),h=a(177),O=a(178),j=function(e){var t=Object(c.useState)(Object(n.a)({},e.data)),a=Object(l.a)(t,2),i=a[0],j=a[1],y=Object(c.useState)(!1),N=Object(l.a)(y,2),x=N[0],k=N[1],C=Object(c.useState)([]),w=Object(l.a)(C,2),S=w[0],D=w[1],I=Object(c.useState)(""),P=Object(l.a)(I,2),q=P[0],F=P[1],z=Object(c.useState)(" "),_=Object(l.a)(z,2),W=_[0],R=_[1],A=Object(c.useState)(""),T=Object(l.a)(A,2),L=T[0],B=T[1],Q=Object(c.useState)(!1),U=Object(l.a)(Q,2),J=U[0],V=U[1],G=Object(c.useState)(!1),M=Object(l.a)(G,2),Y=M[0],H=(M[1],Object(c.useState)(!1)),K=Object(l.a)(H,2),X=K[0],Z=K[1],$=Object(c.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=function(e){var t=i.users.some((function(t){return t._id===e._id}));j(t?function(t){return Object(n.a)(Object(n.a)({},t),{},{users:Object(r.a)(t.users.filter((function(t){return t._id!==e._id})))})}:function(t){return Object(n.a)(Object(n.a)({},t),{},{users:[].concat(Object(r.a)(t.users),[e])})})},re=function(e){var t=e.target,a=t.name,r=t.value;j("startDate"===a?function(e){var t;return Object(n.a)(Object(n.a)({},e),{},(t={},Object(b.a)(t,a,r),Object(b.a)(t,"offerEnd",""),t))}:function(e){return Object(n.a)(Object(n.a)({},e),{},Object(b.a)({},a,r))})},le=[{name:"users",disabled:!e.edit,style:{cursor:"pointer"},displayName:"Store",placeholder:"Select Store",required:!0,value:i.users.map((function(e){return e.phone+", "})),onChange:function(){},onClick:function(){ae(!0),k(!0),m.a.post("/listusers",e.fromPartner?{storeId:e.data._id}:{userId:e.data.userId}).then((function(e){k(!1),D(Object(r.a)(e.data)),console.log(e.data)})).catch((function(e){k(!1),D([]),console.log(e)}))}},{name:"offerStart",disabled:!e.edit,displayName:"Start Date",placeholder:"Select Start Date",minDate:new Date,type:"date",value:i.offerStart,onChange:re,required:!0,autoComplete:"off"},{name:"offerEnd",displayName:"End Date",placeholder:"Select End Date",minDate:""!==i.offerStart&&null!==i.offerStart&&void 0!==i.offerStart?new Date(i.offerStart.getFullYear(),i.offerStart.getMonth(),i.offerStart.getDate()+1):null,type:"date",disabled:""===i.offerStart||!e.edit,value:i.offerEnd,onChange:re,autoComplete:"off",required:!0}];return console.log(i),Y?o.a.createElement(f.a,null):o.a.createElement(c.Fragment,null,o.a.createElement(h.a,{className:"blurred-box",show:te,onClose:function(){return ae(!1)}},o.a.createElement(u.a,{className:"store-dropdown-card bg-transparent"},o.a.createElement("div",{className:"store-dropdown-selector"},x?o.a.createElement("div",{className:"flex-center _100"},o.a.createElement(d.a,null)):o.a.createElement("div",null,S.map((function(e){return o.a.createElement("div",{key:e._id,className:"d-flex justify-content-between flex-wrap each-store-option",style:{cursor:"pointer"},onClick:function(){return ne(e)},id:e._id},o.a.createElement("div",{className:"store-name-div vertical-flex-center"},e.phone),o.a.createElement("div",{className:"checkbox-div flex-center"},o.a.createElement(O.a,{name:e.phone,id:e._id,checked:i.users.some((function(t){return t._id===e._id})),onChange:function(){return ne(e)}})))})))),o.a.createElement(s.a,{type:"button",onClick:function(){return ae(!1)}},"Done"))),o.a.createElement("div",null,o.a.createElement(u.a,{title:e.data.storeName,style:{marginTop:20}},o.a.createElement(g.a,{type:L,message:q,hideAlert:function(){V(!1),"error"!==L&&e.afterSubmit()},show:J}),o.a.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault(),Z(!0);var a=Object(n.a)(Object(n.a)({},i),{},{offerStart:i.offerStart.getTime(),offerEnd:i.offerEnd.getTime()}),l=Object(r.a)(e.entireValue.map((function(e){return e._id===i._id?a:e})));console.log(l),m.a.post("/addstoreoffer",l).then((function(e){Z(!1),console.log(e),200===e.status&&(V(!0),F("Success"),B("success"))})).catch((function(e){Z(!1),V(!0),F("Error"),B("error")}))}},o.a.createElement(E.a,{needPreview:!0,sizeLimit:"1",compress:!0,className:"my-image",editable:e.edit,image:i.offerImage,onChange:function(e,t,a){R(a),t?(R(" "),j((function(t){return Object(n.a)(Object(n.a)({},t),{},{offerImage:e})}))):j((function(e){return Object(n.a)(Object(n.a)({},e),{},{offerImage:null})}))}}),o.a.createElement(v.a,{info:W}),le.map((function(e,t){return o.a.createElement(p.a,Object.assign({key:t},e))})),o.a.createElement("div",{className:"flex-row"},e.edit?o.a.createElement(s.a,{loading:X,disabled:!Object(r.a)(Object.values(i).map((function(e){return null===e||e===[]?"":e}))).every((function(e){return""!==e.toString().trim()})),className:"bg-green lg edit-options",type:"submit"},"Update"):null,o.a.createElement(s.a,{type:"button",onClick:function(){return e.onEdit(e.index)},style:{background:e.edit?"#ee3632":"#4fb664"},className:"bg-green lg edit-options"},e.edit?"Cancel":"Edit"))))))};a(251),t.a=Object(i.g)((function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),i=a[0],d=a[1],b=Object(c.useState)(!1),p=Object(l.a)(b,2),g=p[0],E=p[1],v=Object(c.useState)({display:!1,data:{},index:""}),h=Object(l.a)(v,2),O=h[0],y=h[1],N=function(e){y({display:!0,data:i[e],index:e})};Object(c.useEffect)((function(){x()}),[]);var x=function(){E(!0),m.a.post("/viewstoreoffer",{storeId:e.fromPartner?e.data._id:null}).then((function(e){console.log(e.data),E(!1),d(Object(r.a)(e.data.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{offerStart:new Date(e.offerStart),offerEnd:new Date(e.offerEnd)})}))))})).catch((function(e){console.log(e),E(!1)}))};return console.log(e.data),g?o.a.createElement(c.Fragment,null,o.a.createElement(f.a,null),o.a.createElement("br",null),o.a.createElement(f.a,null),o.a.createElement("br",null),o.a.createElement(f.a,null),o.a.createElement("br",null)):0===i.length?o.a.createElement(u.a,{className:"flex-column"},e.fromPartner?o.a.createElement("div",{onClick:e.goBack},o.a.createElement("i",{className:"red fa fa-chevron-left pointer","aria-hidden":"true"})):null,o.a.createElement("div",{className:"flex-center flex-column"},o.a.createElement("br",null),o.a.createElement("h4",null,"No Offers !"),o.a.createElement("br",null),o.a.createElement(s.a,{onClick:function(){return e.history.replace("/addoffer")}},"Add New Offer"))):O.display?o.a.createElement(j,{fromPartner:e.fromPartner,data:O.data,index:O.index,edit:!0,entireValue:i,onEdit:function(){y({display:!1,data:{},index:""})},afterSubmit:x}):o.a.createElement(c.Fragment,null,e.fromPartner?o.a.createElement(u.a,{className:"full-width flex-row partner-view_offer-title"},o.a.createElement("div",{className:"back-button flex-center",onClick:e.goBack},o.a.createElement("i",{className:"red fa fa-chevron-left","aria-hidden":"true"})),o.a.createElement("div",{className:"each-partner-title flex-center"},o.a.createElement("h4",{className:"break-word"},e.data.name))):null,i.map((function(t,a){return o.a.createElement(j,{fromPartner:e.fromPartner,entireValue:i,onEdit:N,key:t._id,index:a,edit:!1,data:t})})))}))},568:function(e,t,a){},569:function(e,t,a){},573:function(e,t,a){},574:function(e,t,a){},843:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a(1),o=a(35),i=a(167),s=a(10),u=a(109),d=a(139),m=(a(229),a(568),a(13)),f=a(17),b=(a(569),a(570)),p=(a(571),function(e){var t=["CircularProgressbar-path","CircularProgressbar-trail","CircularProgressbar-text","CircularProgressbar-background"];return r.a.createElement(n.Fragment,null,r.a.createElement("style",null,".CircularProgressbar-path {\n            stroke: ".concat(e.barColor," !important;\n            }\n            .CircularProgressbar-trail {\n            stroke: ").concat(e.pathColor," !important;\n            }\n            .CircularProgressbar-text {\n            fill: ").concat(e.textColor," !important;\n            stroke: ").concat(e.textColor," !important;\n            }\n            .CircularProgressbar-background {\n            fill: ").concat(e.backgroundColor," !important;\n            stroke: ").concat(e.backgroundColor," !important;\n            }")),e.children?r.a.createElement(b.b,{className:t.join(" "),value:e.percentage},e.children):r.a.createElement(b.a,{className:t.join(" "),value:e.percentage,text:"".concat(e.percentage,"%")},e.children))}),g=function(e){var t=Object(n.useState)({total:0,storesVisits:0,mostVisited:0,leastVisited:0,mostVisitedStore:"",leastVisitedStore:""}),a=Object(s.a)(t,2),l=(a[0],a[1],Object(n.useState)(!1)),c=Object(s.a)(l,2),o=c[0];c[1];return Object(n.useEffect)((function(){Object(d.a)()}),[]),o?r.a.createElement(f.a,null):r.a.createElement("div",{className:"_100"},r.a.createElement(u.a,null,r.a.createElement("div",{className:"progressbar-container"},r.a.createElement(p,{percentage:90}))))},E=a(244),v=a(273),h=a(18),O=a.n(h),j=a(23),y=a(32),N=a(3),x=a(838),k=a(33),C=a(31),w=a(123),S=a(126),D=a(172),I=a(174),P=a(572);a(573);var q=a(242),F=function(e){var t=Object(n.useState)({name:"",QRCode:null,email:"",address:"",logo:a(110)}),l=Object(s.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)({name:"",email:"",QRCode:null,address:"",logo:a(110)}),d=Object(s.a)(i,2),f=d[0],b=d[1],p=Object(n.useRef)(),g=(Object(n.useRef)(),Object(n.useState)(!1)),E=Object(s.a)(g,2),v=E[0],h=E[1],F=Object(n.useState)(!1),z=Object(s.a)(F,2),_=z[0],W=z[1],R=Object(n.useState)(!1),A=Object(s.a)(R,2),T=A[0],L=A[1],B=Object(n.useState)(""),Q=Object(s.a)(B,2),U=Q[0],J=Q[1],V=Object(n.useState)("success"),G=Object(s.a)(V,2),M=G[0],Y=G[1],H=Object(n.useState)(!1),K=Object(s.a)(H,2),X=K[0],Z=K[1],$=Object(n.useState)(!1),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(s.a)(ne,2),le=re[0],ce=re[1],oe=Object(n.useState)(!1),ie=Object(s.a)(oe,2),se=ie[0],ue=ie[1],de=Object(n.useState)(!1),me=Object(s.a)(de,2),fe=(me[0],me[1]),be=Object(n.useState)(" "),pe=Object(s.a)(be,2),ge=pe[0],Ee=pe[1],ve=Object(n.useState)("coral"),he=Object(s.a)(ve,2),Oe=he[0],je=he[1],ye=function(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(y.a)({},a,n))}))},Ne=[{name:"name",displayName:"Name",placeholder:v?"Enter Name":"",type:"text",value:c.name,onChange:ye,required:!0,spellCheck:!1},{name:"email",displayName:"Email",placeholder:v?"Enter Email":"",type:"email",value:c.email,disabled:!0,onChange:ye,required:!0,spellCheck:!1},{name:"address",displayName:"Address",placeholder:v?"Enter Address":"",type:"textarea",value:c.address,onChange:ye,spellCheck:!1}];Object(n.useEffect)((function(){xe()}),[]);var xe=function(){Z(!0),m.a.post("/storeprofile").then((function(e){Z(!1),200===e.status?(o((function(t){return Object(N.a)(Object(N.a)({},t),e.data)})),b((function(t){return Object(N.a)(Object(N.a)({},t),e.data)}))):(o((function(e){return Object(N.a)(Object(N.a)({},e),{},{name:"",email:"",QRCode:null,address:"",logo:a(110)})})),b((function(e){return Object(N.a)(Object(N.a)({},e),{},{name:"",email:"",QRCode:null,address:"",logo:a(110)})}))),console.log(e)})).catch((function(e){Z(!1),o((function(e){return Object(N.a)(Object(N.a)({},e),{},{name:"",QRCode:null,email:"",address:"",logo:a(110)})})),b((function(e){return Object(N.a)(Object(N.a)({},e),{},{name:"",QRCode:null,email:"",address:"",logo:a(110)})}))}))},ke=function(){return[c.name,c.email].every((function(e){return""!==e.trim()}))},Ce=function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue(!0),Ee(" "),void 0===t.target.files[0]){e.next=27;break}if(fe(!0),ce(Object(I.a)(t.target.files[0].name)),Object(I.a)(t.target.files[0].name)){e.next=12;break}return Ee("Choose only .jpeg / .jpg / .png / .jfif / .webp"),ce(!1),o((function(e){return Object(N.a)({},e)})),e.abrupt("return");case 12:if(!(t.target.files[0].size>2e6)){e.next=19;break}return Ee("Size should be within 2MB"),ce(!1),o((function(e){return Object(N.a)({},e)})),e.abrupt("return");case 19:return W(!0),je("green"),Ee("Your image is being processed..."),a=function(e){var t=e[0].prefix+e[0].data;o((function(e){return Object(N.a)(Object(N.a)({},e),{},{logo:t})})),fe(!1),we(t)},e.next=25,Object(D.a)([t.target.files[0]],{size:.5},a);case 25:e.next=30;break;case 27:ce(!1),Ee("No file Choosen"),o((function(e){return Object(N.a)({},e)}));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(e){Ee("Uploading..."),m.a.post("/updatestoreprofile",Object(N.a)(Object(N.a)({},f),{},{logo:e})).then((function(e){Ee(" "),console.log(e.data),W(!1),200===e.status&&(J("Profile updated !"),L(!0),Y("success"))})).catch((function(e){o((function(e){return Object(N.a)(Object(N.a)({},e),{},{logo:f.logo})})),W(!1),Ee("Something went Wrong !"),J("Profile Not updated !"),L(!0),Y("error")}))},Se=function(){p.current.click()};return r.a.createElement("div",null,X?r.a.createElement(q.a,null):0===c.length?r.a.createElement("h4",{className:"margin-auto text-center"},r.a.createElement("br",null),r.a.createElement("br",null),"Something went Wrong !"):r.a.createElement(n.Fragment,null,r.a.createElement(u.a,{className:"flex-row wrap"},r.a.createElement(x.a,{lg:"6",md:"6",sm:"12",className:"flex-column"},r.a.createElement("div",{className:"profile"},r.a.createElement("input",{ref:p,type:"file",style:{position:"absolute",visibility:"hidden"},onChange:Ce}),null===c.logo||!le&&se?r.a.createElement("div",{style:{backgroundImage:"url("+a(110)+")"},alt:" ",className:"profile-page-logo ".concat(_?"skeleton-loading":"")},r.a.createElement("div",{onClick:_?function(){}:function(){return Se()}},r.a.createElement("p",null,"Edit"))):r.a.createElement("div",{style:{backgroundImage:"url("+c.logo+")"},alt:" ",className:"profile-page-logo ".concat(_?"skeleton-loading":"")},r.a.createElement("div",{onClick:_?function(){}:function(){return Se()}},r.a.createElement("p",null,"Edit"))),r.a.createElement("br",null)),r.a.createElement(S.a,{info:ge,color:Oe,className:"left-at-desktop"}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(C.a,{className:"lg"+(v?" bg-red":" bg-green"),type:"button",onClick:function(){p&&o((function(e){return Object(N.a)(Object(N.a)({},f),{},{logo:e.logo})})),h((function(e){return!e}))}},v?"Cancel":"Edit"),r.a.createElement("br",null),r.a.createElement(k.a,{type:M,message:U,hideAlert:function(){L(!1),h(!1),Ee(" "),je("coral"),"error"!==M&&xe()},show:T}),v?r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),ae(!0),m.a.post("/updatestoreprofile",c).then((function(e){console.log(e.data),ae(!1),200===e.status&&(J("Profile updated !"),L(!0),Y("success"))})).catch((function(e){ae(!1),J("Profile Not updated !"),L(!0),Y("error")}))}},Ne.map((function(e,t){return r.a.createElement(w.a,Object.assign({key:t},e))})),r.a.createElement(C.a,{loading:te,disabled:!ke(),className:"bg-green lg",type:"submit"},"Update")):r.a.createElement("div",{className:"form"},Ne.map((function(e,t){return r.a.createElement(w.a,Object.assign({key:t},e,{disabled:!0}))})),r.a.createElement("div",{style:{visibility:"hidden"}},r.a.createElement(C.a,{loading:te,disabled:!ke(),className:"bg-green lg",type:"submit"},"Update"))))),r.a.createElement(x.a,{lg:"6",md:"6",sm:"12",className:"flex-center"},r.a.createElement("div",{className:"qr-code"},null===c.QRCode||void 0===c.QRCode?r.a.createElement("div",null,r.a.createElement("div",{className:"bg-grey qr-code"})):r.a.createElement("div",{className:"flex-column flex-center"},r.a.createElement("img",{src:c.QRCode,alt:" ",width:"100%",height:"100%"}),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){!function(e){var t=new P.a;t.addImage(e,"JPEG",15,40,180,160),t.output("datauri"),t.save("qr-code.pdf")}(c.QRCode)},className:"bg-green sm margin-auto",type:"button"},"Download"))))))))};a(574),t.default=Object(l.b)((function(e){return{auth:null!==e.login.token,logo:e.login.logo}}))((function(e){var t=[{name:"Dashboard",to:"/home"},{dropdown:{heading:"OFFERS",options:[{name:"ADD OFFER",to:"/addoffer"},{name:"VEIW OFFER",to:"/viewoffer"}]}},{name:"LOGOUT",to:"/logout"},{component:r.a.createElement("div",{className:"nav-logo",style:{backgroundImage:"url("+(null!==e.logo?e.logo:a(110))+")"}}),to:"/profile"}];return r.a.createElement("div",null,r.a.createElement(i.a,{style:{background:"transparent"},routes:t,heading:r.a.createElement("img",{src:a(55),alt:"logo"})}),r.a.createElement("br",null),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/home",component:Object(o.a)(g)}),r.a.createElement(c.b,{path:"/addoffer",component:Object(o.a)(E.a)}),r.a.createElement(c.b,{path:"/viewoffer",component:Object(o.a)(v.a)}),r.a.createElement(c.b,{path:"/profile",component:Object(o.a)(F)}),r.a.createElement(c.a,{to:e.auth?"/profile":"/auth"})))}))}}]);
//# sourceMappingURL=9.0d054f67.chunk.js.map
(this["webpackJsonpez-walking"]=this["webpackJsonpez-walking"]||[]).push([[9],{396:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){},399:function(e,t,a){},653:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),s=a(7),o=(a(396),a(40)),i=a.n(o),l=a(51),u=a(37),m=a(6),p=a(8),f=(a(50),a(49),a(397),a(398),function(e){var t=["info",e.className?e.className:""];return r.a.createElement("div",{className:t.join(" ")},r.a.createElement("p",{className:"small text-center remove-para-margin",style:{color:e.color?e.color:"coral"}},e.info))}),b=a(65),g=(a(15),a(25)),d=a(21),j=a(87),O=Object(c.b)(null,(function(e){return{loginSuccess:function(t,a){return e(Object(b.a)(t,a))}}}))((function(e){var t=Object(n.useState)({email:"",password:""}),o=Object(p.a)(t,2),O=o[0],w=o[1],h=Object(n.useState)(" "),E=Object(p.a)(h,2),v=E[0],N=E[1],y=Object(n.useState)(!1),S=Object(p.a)(y,2),k=S[0],_=S[1],C=function(e){var t=e.target,a=t.name,n=t.value;N(" "),w((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,n))}))},x=Object(c.c)(),P=Object(s.g)().push,q=[{name:"email",displayName:"Email",className:"signup__input",type:"text",value:O.email,onChange:C,required:!0},{name:"password",className:"signup__input",displayName:"Password",type:"password",value:O.password,onChange:C,required:!0}];return r.a.createElement("div",{className:"signup-container full-page-wrapper flex-column"},r.a.createElement("img",{src:a(120),className:"auth-page-logo"}),r.a.createElement("form",{className:"signup blurred-box",onSubmit:function(e){e.preventDefault(),_(!0),d.a.post("/login",O).then((function(e){(console.log(e),200===e.status)&&(Object(g.c)("email",O.email),Object(g.c)("password",O.password),function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.c)("token",e.data.token,{expires:new Date(3030,0,1).toUTCString()});case 2:console.log(new Date(3030,0,1).toUTCString()),setTimeout((function(){x(Object(b.a)(e.data.token,e.data)),P("/clinics")}),100);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()());_(!1)})).catch((function(e){_(!1),null!==e.response&&void 0!==e.response?401===e.response.status?(Object(g.a)("token"),N("Incorrect Email / Password")):N(e.response.message||"Something went wrong"):N("Something went wrong")}))},autoComplete:"off"},r.a.createElement("h3",null,"Sign in"),r.a.createElement(f,{info:v}),q.map((function(e,t){return r.a.createElement("div",{key:t,className:"signup__field"},r.a.createElement("input",Object.assign({},e,{id:e.name})),r.a.createElement("label",{className:"signup__label",htmlFor:e.name},e.displayName))})),r.a.createElement("button",{disabled:![O.email,O.password].every((function(e){return""!==e.trim()})),type:"submit"},k?r.a.createElement(j.a,null):"Sign in")))})),w=(a(399),Object(c.b)((function(e){return{token:e.login.temporaryToken,email:e.login.email}}),(function(e){return{loginSuccessful:function(t,a){return e(Object(b.a)(t,a))},setVerified:function(t){return e(Object(b.c)(t))}}}))((function(e){var t=Object(n.useState)({email:e.email,password:""}),c=Object(p.a)(t,2),s=c[0],o=c[1],i=Object(n.useState)(" "),l=Object(p.a)(i,2),b=l[0],g=l[1],O=Object(n.useState)(!1),w=Object(p.a)(O,2),h=w[0],E=w[1],v=Object(n.useState)(""),N=Object(p.a)(v,2),y=N[0],S=N[1],k=[{name:"password",className:"signup__input",displayName:"Password",type:"password",value:s.password,onChange:function(e){g(" ");var t=e.target,a=t.name,n=t.value;o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,n))}))},required:!0},{name:"confirmPassword",className:"signup__input",displayName:"Confirm Password",type:"password",value:y,onChange:function(e){S(e.target.value)},required:!0}];return r.a.createElement("div",{className:"signup-container full-page-wrapper flex-column auth-background"},r.a.createElement("img",{src:a(120),className:"main-logo auth-page-logo"}),r.a.createElement("form",{className:"signup blurred-box",onSubmit:function(t){t.preventDefault(),E(!0),d.a.post("/giri/project",Object(m.a)(Object(m.a)({},s),{},{token:e.token})).then((function(t){console.log(t),E(!1),200===t.status&&(e.setVerified(!1),e.history.push("/auth"))})).catch((function(e){console.log(e),E(!1),g("Something went wrong !")}))}},r.a.createElement("h3",null,"Create Your Account For ",e.email.toLowerCase()),s.password!==y?r.a.createElement(f,{info:"Password Not Equal !"}):r.a.createElement(f,{info:b}),k.map((function(e,t){return r.a.createElement("div",{key:t,className:"signup__field"},r.a.createElement("input",Object.assign({},e,{id:e.name})),r.a.createElement("label",{className:"signup__label",htmlFor:e.name},e.displayName))})),r.a.createElement("button",{disabled:!([e.email,s.password,y].every((function(e){return""!==e.trim()}))&&s.password===y),type:"submit"},h?r.a.createElement(j.a,null):"Create")))})));t.default=Object(c.b)((function(e){return{verified:e.login.verified}}))((function(e){return Object(n.useEffect)((function(){localStorage.removeItem("route")}),[]),r.a.createElement("div",null,r.a.createElement(s.d,null,e.verified?r.a.createElement(s.b,{path:e.match.url+"/signup",component:w}):r.a.createElement(s.b,{path:e.match.url+"/signin",component:O}),e.verified?r.a.createElement(s.a,{to:"/auth/signup"}):r.a.createElement(s.a,{to:"/auth/signin"})))}))}}]);
//# sourceMappingURL=9.d9d935c9.chunk.js.map